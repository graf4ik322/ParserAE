# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö Perfume Bot

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –∏–∑ .env —Ñ–∞–π–ª–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å –∏–∑ .env —Ñ–∞–π–ª–∞, –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** 
- –í `main.py` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –º–æ–¥–µ–ª–∏ –≤ AIProcessor: `AIProcessor(self.config.openrouter_api_key, self.config.openrouter_model)`
- –í `docker-compose.yml` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `OPENROUTER_MODEL=${OPENROUTER_MODEL:-openai/gpt-4-turbo-preview}`

### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ "unable to open database file"
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –í `database/manager.py` –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ë–î: `os.makedirs(db_dir, exist_ok=True)`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ DatabaseManager
- –í `docker-compose.yml` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∞ placeholder –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ .env.example
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –í `config.py` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ placeholder –∑–Ω–∞—á–µ–Ω–∏—è:
  ```python
  if not self.bot_token or self.bot_token == 'your_telegram_bot_token_here':
      raise ValueError("TELEGRAM_BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è")
  ```

### 4. Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ Dockerfile:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ú–æ–¥–µ–ª—å `deepseek/deepseek-chat-v3-0324:free` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ .env
- ‚úÖ API –∫–ª—é—á –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ AI –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
2025-08-02 02:38:44,341 - ai.processor - INFO - üß† AIProcessor –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –º–æ–¥–µ–ª—å—é: deepseek/deepseek-chat-v3-0324:free
2025-08-02 02:38:44,341 - database.manager - INFO - ‚úÖ –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã
```

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å API –∫–ª—é—á–æ–º

**–°—Ç–∞—Ç—É—Å:** API –∫–ª—é—á –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 401 "No auth credentials found"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –ö–ª—é—á –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –ø–∞–Ω–µ–ª–∏ OpenRouter
2. –ö–ª—é—á –∏—Å—Ç–µ–∫ –∏–ª–∏ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
3. –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–ª—é—á–∞ –≤ –ø–∞–Ω–µ–ª–∏ OpenRouter
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API –∫–ª—é—á
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –∏ –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. **–õ–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   python3 main_simple.py
   ```

2. **–í Docker:**
   ```bash
   docker compose up --build
   ```

## üìù –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### .env —Ñ–∞–π–ª (–æ–±–Ω–æ–≤–ª–µ–Ω)
```env
TELEGRAM_BOT_TOKEN=8377061776:AAHSLR8D7w9gbQbSz7gyO73nb_ywYtozJlY
OPENROUTER_API_KEY=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
OPENROUTER_MODEL=deepseek/deepseek-chat-v3-0324:free
ADMIN_USER_ID=6398821843
DATABASE_PATH=data/perfumes.db
```

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å –∏–∑ .env —Ñ–∞–π–ª–∞
- –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –æ—à–∏–±–æ–∫
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –≤ –ª–æ–≥–∞—Ö

–û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å API –∫–ª—é—á–æ–º OpenRouter.