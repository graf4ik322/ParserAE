# üåü –ü–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã–π –ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –¥–ª—è Telegram

–£–º–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ –±–∞–∑–µ –ò–ò –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –ø–∞—Ä—Ñ—é–º–æ–≤ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ –∞—Ä–æ–º–∞—Ç–∞–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ 1200+ –ø–∞—Ä—Ñ—é–º–æ–≤, —Å–ø–∞—Ä—à–µ–Ω–Ω—ã—Ö —Å aroma-euro.ru, –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ü§î –ü–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã–π –≤–æ–ø—Ä–æ—Å
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –ø–∞—Ä—Ñ—é–º–µ—Ä–∏–∏
- –ü–æ–¥–±–∏—Ä–∞–µ—Ç –∞—Ä–æ–º–∞—Ç—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–º—ã–ª–æ–≤–∞—Ä–µ–Ω–∏–µ, –æ—Å–≤–µ–∂–∏—Ç–µ–ª–∏, —Å—Ç–∏—Ä–∫–∞)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–±—Ä–∏–∫–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- –î–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **üÜï –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ aroma-euro.ru –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞**

### üéØ –ü–æ–¥–±–æ—Ä –ø–∞—Ä—Ñ—é–º–∞ (–ö–≤–∏–∑)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–≤–∏–∑ –∏–∑ 12 –≤–æ–ø—Ä–æ—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ 5 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  - –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç)
  - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∞—Ä–æ–º–∞—Ç–∞–º (—Å–µ–º–µ–π—Å—Ç–≤–∞, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å)
  - –û–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ü–æ–≤–æ–¥—ã –∏ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å
  - –û–ø—ã—Ç –∏ –±—é–¥–∂–µ—Ç
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ 5-7 –∞—Ä–æ–º–∞—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ –ª—É—á—à–∏—Ö —Ñ–∞–±—Ä–∏–∫ –ø–æ–¥ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å
- **üÜï –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–∫–∞–∑–∞**

### üìñ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Ä–æ–º–∞—Ç–∞—Ö
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ª—é–±—ã—Ö –∞—Ä–æ–º–∞—Ç–æ–≤
- –ü–∏—Ä–∞–º–∏–¥–∞ –∞—Ä–æ–º–∞—Ç–æ–≤ (–≤–µ—Ä—Ö–Ω–∏–µ, —Å—Ä–µ–¥–Ω–∏–µ, –±–∞–∑–æ–≤—ã–µ –Ω–æ—Ç—ã)
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–∞—Ä—Ñ—é–º–µ—Ä
- –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Å–æ—á–µ—Ç–∞–Ω–∏—é
- –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (1200+ –∞—Ä–æ–º–∞—Ç–æ–≤, 180+ –±—Ä–µ–Ω–¥–æ–≤, 14 —Ñ–∞–±—Ä–∏–∫)
- –ê–Ω–∞–ª–∏–∑ —Ñ–∞–±—Ä–∏–∫-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
- –¢–æ–ø –±—Ä–µ–Ω–¥–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π

### üí∞ –ë–∞–ª–∞–Ω—Å API (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OpenRouter API
- –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ—á–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±—é–¥–∂–µ—Ç—É –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üöÄ Quick Start

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <your-repo-url>
cd perfume-consultant-bot

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r bot_requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env —Ñ–∞–π–ª
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª:
```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=your_telegram_bot_token_here

# OpenRouter API Key (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ openrouter.ai)
OPENROUTER_API_KEY=your_openrouter_api_key_here
```

### 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—Ñ—é–º–æ–≤
python3 data_normalizer.py
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
python3 main_bot.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
perfume-consultant-bot/
‚îú‚îÄ‚îÄ üìä –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ full_perfumes_catalog_complete.json  # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ full_basic_catalog.json             # –ë–∞–∑–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ names_only.json                     # –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∞—Ä–æ–º–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ brand_name.json                     # –ë—Ä–µ–Ω–¥ + –Ω–∞–∑–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ name_factory.json                   # –ù–∞–∑–≤–∞–Ω–∏–µ + —Ñ–∞–±—Ä–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ brand_name_factory.json             # –ü–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ full_data_compact.json              # –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ factory_analysis.json               # –ê–Ω–∞–ª–∏–∑ —Ñ–∞–±—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ quiz_reference.json                 # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¥–ª—è –∫–≤–∏–∑–∞
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ main_bot.py                         # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py                          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ quiz_system.py                     # –°–∏—Å—Ç–µ–º–∞ –∫–≤–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ ai_prompts.py                      # –ò–ò –ø—Ä–æ–º–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ data_normalizer.py                 # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ .env.example                       # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ bot_requirements.txt               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ README_BOT.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îî‚îÄ‚îÄ üìä –ü–∞—Ä—Å–µ—Ä (–∏—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)
    ‚îú‚îÄ‚îÄ complete_parser_with_details.py
    ‚îú‚îÄ‚îÄ full_catalog_parser.py
    ‚îî‚îÄ‚îÄ requirements.txt
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Backend**: Python 3.7+ —Å asyncio
- **Telegram API**: python-telegram-bot 20.7
- **–ò–ò**: Claude 3 Haiku —á–µ—Ä–µ–∑ OpenRouter API
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: JSON —Ñ–∞–π–ª—ã (1200+ –∑–∞–ø–∏—Å–µ–π)
- **–°–æ—Å—Ç–æ—è–Ω–∏—è**: ConversationHandler –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–º

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è LLM –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏**: —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤**: —É–º–Ω–æ–µ –æ–±—Ä–µ–∑–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ (200-300 –ø–æ–∑–∏—Ü–∏–π)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏
- **–ë–∞—Ç—á–∏–Ω–≥**: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (0.6-0.8) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å fallback-–ø—Ä–æ–º–ø—Ç–∞–º–∏

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ê—Ä–æ–º–∞—Ç–æ–≤**: 1,281
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π**: 1,007
- **–ë—Ä–µ–Ω–¥–æ–≤**: 180+
- **–§–∞–±—Ä–∏–∫**: 14
- **–ü–æ–ª–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π**: 1,279

### –¢–æ–ø —Ñ–∞–±—Ä–∏–∫–∏
1. **Lz**: 397 –∞—Ä–æ–º–∞—Ç–æ–≤
2. **Givaudan Premium**: 162 –∞—Ä–æ–º–∞—Ç–∞
3. **Argeville**: 87 –∞—Ä–æ–º–∞—Ç–æ–≤
4. **LZ AG**: 84 –∞—Ä–æ–º–∞—Ç–∞
5. **SELUZ**: 70 –∞—Ä–æ–º–∞—Ç–æ–≤

### –¢–æ–ø –±—Ä–µ–Ω–¥—ã
1. **Tom Ford**: 55 –∞—Ä–æ–º–∞—Ç–æ–≤
2. **Paco Rabanne**: 38 –∞—Ä–æ–º–∞—Ç–æ–≤
3. **Escentric Molecules**: 35 –∞—Ä–æ–º–∞—Ç–æ–≤
4. **Christian Dior**: 35 –∞—Ä–æ–º–∞—Ç–æ–≤
5. **Chanel**: 32 –∞—Ä–æ–º–∞—Ç–∞

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### config.py
```python
# –ú–æ–¥–µ–ª—å –ò–ò (—ç–∫–æ–Ω–æ–º–∏—á–Ω–∞—è)
OPENROUTER_MODEL = 'anthropic/claude-3-haiku'

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
LLM_LIMITS = {
    'question_list_limit': 200,     # –ê—Ä–æ–º–∞—Ç–æ–≤ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
    'quiz_list_limit': 300,         # –ê—Ä–æ–º–∞—Ç–æ–≤ –¥–ª—è –∫–≤–∏–∑–∞
    'factory_summary_limit': 10,    # –§–∞–±—Ä–∏–∫ –≤ —Å–≤–æ–¥–∫–µ
}

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤
MAX_TOKENS_QUESTION = 1200
MAX_TOKENS_QUIZ = 1800
MAX_TOKENS_INFO = 1500
```

### –†–∞—Å—Ö–æ–¥—ã –Ω–∞ API
- **–í–æ–ø—Ä–æ—Å**: ~0.001-0.002$ –∑–∞ –∑–∞–ø—Ä–æ—Å
- **–ö–≤–∏–∑**: ~0.002-0.003$ –∑–∞ –ø–æ–ª–Ω—ã–π –∫–≤–∏–∑
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Ä–æ–º–∞—Ç–µ**: ~0.001-0.002$ –∑–∞ –∑–∞–ø—Ä–æ—Å
- **–°—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ**: $5-15 –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã–π –≤–æ–ø—Ä–æ—Å
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ö–∞–∫–æ–π –∞—Ä–æ–º–∞—Ç –ø–æ–¥–æ–π–¥–µ—Ç –¥–ª—è –≥–µ–ª—è –¥–ª—è —Å—Ç–∏—Ä–∫–∏?"

–ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:
‚Üí 200 –∞—Ä–æ–º–∞—Ç–æ–≤ –∏–∑ –±–∞–∑—ã
‚Üí 10 —Ç–æ–ø-—Ñ–∞–±—Ä–∏–∫
‚Üí –°–ø–µ—Ü–∏—Ñ–∏–∫—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–û—Ç–≤–µ—Ç:
üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞—Ä–æ–º–∞—Ç—ã:
1. Fresh Linen (Givaudan Premium)
   - –ü–æ–¥—Ö–æ–¥–∏—Ç: –ª–µ–≥–∫–∏–π, —Å–≤–µ–∂–∏–π, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –º–æ—é—â–∏–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏
   - –§–∞–±—Ä–∏–∫–∞: –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –±—ã—Ç–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è–º–∏
   - –°–æ–≤–µ—Ç—ã: –¥–æ–±–∞–≤–ª—è—Ç—å 2-3 –∫–∞–ø–ª–∏ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É
   - üõí [–ó–∞–∫–∞–∑–∞—Ç—å –Ω–∞ aroma-euro.ru](https://aroma-euro.ru/perfume/...)
```

### –°–∏—Å—Ç–µ–º–∞ –∫–≤–∏–∑–∞
```
12 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
‚îú‚îÄ‚îÄ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç)
‚îú‚îÄ‚îÄ –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è (—Å–µ–º–µ–π—Å—Ç–≤–∞ –∞—Ä–æ–º–∞—Ç–æ–≤, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å)
‚îú‚îÄ‚îÄ –û–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å—Ç–∏–ª—å)
‚îú‚îÄ‚îÄ –ö–æ–Ω—Ç–µ–∫—Å—Ç (—Å–µ–∑–æ–Ω, –≤—Ä–µ–º—è, –ø–æ–≤–æ–¥—ã)
‚îî‚îÄ‚îÄ –û–ø—ã—Ç (—É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞–Ω–∏–π, –±—é–¥–∂–µ—Ç, —Ñ–∞–±—Ä–∏–∫–∏)

–†–µ–∑—É–ª—å—Ç–∞—Ç: 5-7 –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Å:
‚Ä¢ –î–µ—Ç–∞–ª—å–Ω—ã–º –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞
‚Ä¢ –ê–Ω–∞–ª–∏–∑–æ–º —Ñ–∞–±—Ä–∏–∫–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Å–æ–≤–µ—Ç–∞–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
‚Ä¢ –ü—Ä—è–º—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –∑–∞–∫–∞–∑–∞
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Ä–æ–º–∞—Ç–∞—Ö
```
–ó–∞–ø—Ä–æ—Å: "Tom Ford Lost Cherry"

–û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç:
üåü Tom Ford Lost Cherry
üìñ –û–ø–∏—Å–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ Fragrantica
üè∫ –ü–∏—Ä–∞–º–∏–¥–∞ –∞—Ä–æ–º–∞—Ç–æ–≤ (–≤–µ—Ä—Ö/—Å–µ—Ä–¥—Ü–µ/–±–∞–∑–∞)
üìö –ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∏—è
üé® –û–ª—å—Ñ–∞–∫—Ç–æ—Ä–Ω—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è
‚è∞ –í—Ä–µ–º—è –∏ –º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
üë• –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
üí° –°–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é
```

### –ë–∞–ª–∞–Ω—Å API
```
–§—É–Ω–∫—Ü–∏—è "üí∞ –ë–∞–ª–∞–Ω—Å API" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API OpenRouter:
üîë –ö–ª—é—á API: –ê–∫—Ç–∏–≤–µ–Ω
ü§ñ –ú–æ–¥–µ–ª—å: anthropic/claude-3-haiku
üí∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: $X.XX
üìä –ó–∞–ø—Ä–æ—Å–æ–≤: XXX

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–∞: ~$0.001-0.002
‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–≤–∏–∑–∞: ~$0.002-0.003
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç: $5-15

üåê –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
[OpenRouter Dashboard](https://openrouter.ai/keys)
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –º–µ–Ω—é**:
```python
# –í main_bot.py
keyboard.append([
    InlineKeyboardButton("üÜï –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è", callback_data="new_function")
])
```

2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã**:
```python
async def handle_new_function(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    pass
```

3. **–ù–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç**:
```python
# –í ai_prompts.py
@staticmethod
def create_new_function_prompt(user_input: str) -> str:
    return f"–ü—Ä–æ–º–ø—Ç –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏: {user_input}"
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ò–ò

–í `config.py`:
```python
OPENROUTER_CONFIG = {
    'model': 'anthropic/claude-3-sonnet',  # –ë–æ–ª–µ–µ –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å
    'max_tokens': 2000,                    # –ë–æ–ª—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤
    'temperature': 0.8                     # –ë–æ–ª–µ–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ `data_normalizer.py`
2. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –≤ `ai_prompts.py`
3. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**‚ùå "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
python3 data_normalizer.py
```

**‚ùå "OpenRouter API error"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç—É OpenRouter
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –º–æ–¥–µ–ª–∏

**‚ùå "Bot token invalid"**
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —É @BotFather
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤ `.env`

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- `perfume_bot.log` - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –±–æ—Ç–∞
- –ö–æ–Ω—Å–æ–ª—å - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤

```python
# –î–æ–±–∞–≤—å—Ç–µ —Å—á–µ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
class RequestCounter:
    def __init__(self):
        self.requests = 0
        self.total_tokens = 0
    
    def add_request(self, tokens: int):
        self.requests += 1
        self.total_tokens += tokens
```

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL/MongoDB
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis –¥–ª—è —Å–µ—Å—Å–∏–π
3. **–û—á–µ—Ä–µ–¥–∏**: Celery –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus + Grafana

### –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY . .

RUN pip install -r bot_requirements.txt

CMD ["python", "main_bot.py"]
```

```yaml
# docker-compose.yml
version: '3.8'
services:
  perfume-bot:
    build: .
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
    restart: always
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **aroma-euro.ru** - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –ø–∞—Ä—Ñ—é–º–∞—Ö
- **OpenRouter** - –¥–æ—Å—Ç—É–ø –∫ –ò–ò –º–æ–¥–µ–ª—è–º
- **python-telegram-bot** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram
- **Claude 3 Haiku** - —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub
- –ù–∞–ø–∏—à–∏—Ç–µ –≤ Telegram: @your_username
- Email: your.email@example.com

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –ø–∞—Ä—Ñ—é–º–µ—Ä–∏–∏**